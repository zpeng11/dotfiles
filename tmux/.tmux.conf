# Set prefix to Alt+`
unbind C-b
set -g prefix 'C-a'
bind 'C-a' send-prefix

# Vim-style pane navigation with prefix + hjkl
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# last window
bind u last-window

# previous window by index
bind b previous-window

# create new window
bind y new-window -c "#{pane_current_path}"

# better scroll mode
setw -g mode-keys vi
set -g history-limit 100000

# quick response
set -sg escape-time 0

# pane split at current path
bind c new-window -c "#{pane_current_path}"
bind \; split-window -h -c "#{pane_current_path}"
bind "'" split-window -v -c "#{pane_current_path}"

unbind x
bind x display-menu -x P -y P "Confirm closing pane #{pane_index}?" \
    "---" "" "" \
    "Current command: #{pane_current_command}" "" "" \
    "Current path: #{pane_current_path}" "" "" \
    "Pane size: #{pane_width}x#{pane_height}" "" "" \
    "---" "" "" \
    "Confirm (Enter)" "Enter" "kill-pane" \
    "Cancel (Esc)" "Escape" ""

# quick reload
bind r source-file ~/.tmux.conf \; display "tmux reloaded"

#colored pane focus
set -g pane-border-style fg=colour238
set -g pane-active-border-style fg=colour39

# #fzf window
# bind w display-popup -E "\
# tmux list-windows -a | \
# fzf --prompt='Window> ' | \
# cut -d: -f1 | \
# xargs -r tmux select-window -t
# "

# #fzf pane
# bind p display-popup -E "\
# tmux list-panes -a -F '#S:#I.#P #{pane_current_path}' | \
# fzf --prompt='Pane> ' | \
# cut -d' ' -f1 | \
# xargs -r tmux select-pane -t
# "

